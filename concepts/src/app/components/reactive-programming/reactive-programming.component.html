<div class="container mt-4">
    <h2>Bands</h2>
    <div class="row" *ngIf="model$|async as model">
      <button type="button" class="btn btn-primary mt-2 mb-2" [disabled]="model.isLoading" (click)="refreshDataClickSubject.next()">
        Refresh data
      </button>  
      <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Formation year</th>
                    <th>Is active</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngIf="model.isLoading">
                  <td  colspan="3" style="text-align: center">
                      <img src="../../../assets/loading.gif" alt="Loading..." height="150px" width="150px">                  
                  </td>
                </tr>
                <tr *ngFor="let band of model.bands">
                    <td>{{ band.name }}</td>
                    <td>{{ band.formationYear }}</td>
                    <td>{{ band.isActive }}</td>
                </tr>
            </tbody>
        </table>
    </div>

  <form [formGroup]="bandForm">
    <div class="form-group">
      <label for="Name">Name</label>
      <input type="text" class="form-control" id="name" formControlName="name">
    </div>
    <div class="form-group">
      <label for="formationYear">Formation year</label>
      <input type="number" class="form-control" id="formationYear" formControlName="formationYear">
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="isActive" formControlName="isActive">
      <label class="form-check-label" for="isActive">Is active</label>
    </div>
    <div class="form-group">
      <label for="biography">Biography</label>
      <textarea class="form-control" id="biography" rows="3" formControlName="biography"></textarea>
    </div>
    <button type="button" class="btn" (click)="undoClick$.next()">Undo</button>
    <!-- <button type="submit" class="btn btn-primary">Add</button> -->
    <button type="submit" class="btn btn-primary" (click)="bandForm.reset()">Reset</button>
  </form>
</div>